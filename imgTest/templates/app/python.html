<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=contain"><title>Python 的 Import 陷阱 – PyLadies Taiwan – Medium</title><link rel="canonical" href="https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3"><meta name="title" content="Python 的 Import 陷阱 – PyLadies Taiwan – Medium"><meta name="referrer" content="unsafe-url"><meta name="description" content="在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或 class（類別）而必須互相 import（匯入），使用上一個不注意就會掉入混亂的 import 陷阱。 此篇將會從基本 module…"><meta name="theme-color" content="#000000"><meta property="og:title" content="Python 的 Import 陷阱 – PyLadies Taiwan – Medium"><meta property="twitter:title" content="Python 的 Import 陷阱 – PyLadies Taiwan – Medium"><meta property="og:url" content="https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或…"><meta name="twitter:description" content="在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或…"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@pyliaorachel"><meta property="author" content="Rachel Liao"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@pyliaorachel"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2017-10-30T02:13:14.977Z"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="16 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/3538e74f57e3"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/3538e74f57e3"><meta property="al:android:url" content="medium://p/3538e74f57e3"><meta property="al:web:url" content="https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/3538e74f57e3" /><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":1920,"height":548,"url":"https://cdn-images-1.medium.com/max/1920/1*SHAeVn_iDg1aPkaEGhScJQ.jpeg"},"url":"https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3","dateCreated":"2017-10-30T02:13:14.977Z","datePublished":"2017-10-30T02:13:14.977Z","dateModified":"2018-06-16T08:50:24.461Z","headline":"Python 的 Import 陷阱","name":"Python 的 Import 陷阱","thumbnailUrl":"https://cdn-images-1.medium.com/max/1920/1*SHAeVn_iDg1aPkaEGhScJQ.jpeg","keywords":["Tag:Python","Publication:pyladies-taiwan","LockedPostSource:0","Elevated:false","LayerCake:0"],"author":{"@type":"Person","name":"Rachel Liao","url":"https://medium.com/@pyliaorachel"},"creator":["Rachel Liao"],"publisher":{"@type":"Organization","name":"PyLadies Taiwan","url":"https://medium.com/pyladies-taiwan","logo":{"@type":"ImageObject","width":210,"height":60,"url":"https://cdn-images-1.medium.com/max/210/1*SHAeVn_iDg1aPkaEGhScJQ.jpeg"}},"mainEntityOfPage":"https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3"}</script><meta name="parsely-link" content="https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3"><link rel="stylesheet" type="text/css" class="js-glyph-" id="glyph-8" href="https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" /><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-branding-base.ELLbM28zCnFU-_GSNkHm1Q.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*E9W29PkuWKmuEpYG9xVoCg.jpeg"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*E9W29PkuWKmuEpYG9xVoCg.jpeg"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*E9W29PkuWKmuEpYG9xVoCg.jpeg"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*E9W29PkuWKmuEpYG9xVoCg.jpeg"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope class=" postShowScreen browser-chrome os-windows is-withMagicUnderlines v-glyph v-glyph--m2 is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar"><div class="branch-journeys-top"></div><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1032 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingHorizontal20"><div class="metabar-block u-flex1 u-flexCenter"><div class="u-xs-hide js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-fillTransparentBlackDarker u-flex0 u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-flex0 u-flexCenter u-paddingTop0"><svg class="svgIcon-use" width="45" height="45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-xs-show js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-fillTransparentBlackDarker u-flex0 u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-flex0 u-flexCenter u-paddingTop0"><svg class="svgIcon-use" width="45" height="45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-flexCenter u-height65 u-xs-height56"><span class="u-inlineBlock u-height28 u-xs-height24 u-verticalAlignTop u-marginRight20 u-marginLeft15 u-borderRightLighter"></span></div><div class="u-flexCenter u-height65 u-xs-height56 u-marginRight18"><a class="js-collectionLogoOrName u-uiTextBold u-fontSize18 u-lineHeightTightest u-xs-fontSize22" href="https://medium.com/pyladies-taiwan?source=logo-2b98f73f6736---295c96bf91e2"><img height="36" width="126" src="https://cdn-images-1.medium.com/letterbox/126/36/50/50/1*SHAeVn_iDg1aPkaEGhScJQ.jpeg?source=logoAvatar-2b98f73f6736---295c96bf91e2" alt="PyLadies Taiwan" /></a></div><div class="u-flexCenter u-height65 u-xs-height56 u-md-hide"><div class="buttonSet"><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="toggle-follow-collection" data-action-source="----295c96bf91e2----------------------follow_header" data-collection-id="295c96bf91e2"><span class="button-label  js-buttonLabel">Follow</span></button></div></div></div><div class="metabar-block u-flex0 u-flexCenter"><div class="u-flexCenter u-height65 u-xs-height56"><div class="buttonSet buttonSet--wide u-lineHeightInherit"><label class="button button--small button--chromeless button--withIcon button--withSvgIcon inputGroup u-sm-hide metabar-predictiveSearch u-baseColor--buttonNormal u-baseColor--placeholderNormal" title="Search"><span class="svgIcon svgIcon--search svgIcon--25px u-baseColor--iconLight"><svg class="svgIcon-use" width="25" height="25" ><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"/></svg></span><input class="js-predictiveSearchInput textInput textInput--rounded textInput--darkText u-baseColor--textNormal textInput--transparent" type="search" placeholder="Search" required="true" data-collection-id="295c96bf91e2" /></label><a class="button button--small button--chromeless u-sm-show is-inSiteNavBar u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--chromeless u-xs-top1"   href="https://medium.com/pyladies-taiwan/search" title="Search" aria-label="Search"><span class="button-defaultState"><span class="svgIcon svgIcon--search svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" ><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"/></svg></span></span></a><button class="button button--small button--chromeless is-inSiteNavBar u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--activity js-notificationsButton u-marginRight16 u-xs-marginRight10 u-lineHeight0 u-size25x25"  title="Notifications" aria-label="Notifications" data-action="open-notifications"><span class="svgIcon svgIcon--bell svgIcon--25px"><svg class="svgIcon-use" width="25" height="25"  viewBox="-293 409 25 25"><path d="M-273.327 423.67l-1.673-1.52v-3.646a5.5 5.5 0 0 0-6.04-5.474c-2.86.273-4.96 2.838-4.96 5.71v3.41l-1.68 1.553c-.204.19-.32.456-.32.734V427a1 1 0 0 0 1 1h3.49a3.079 3.079 0 0 0 3.01 2.45 3.08 3.08 0 0 0 3.01-2.45h3.49a1 1 0 0 0 1-1v-2.59c0-.28-.12-.55-.327-.74zm-7.173 5.63c-.842 0-1.55-.546-1.812-1.3h3.624a1.92 1.92 0 0 1-1.812 1.3zm6.35-2.45h-12.7v-2.347l1.63-1.51c.236-.216.37-.522.37-.843v-3.41c0-2.35 1.72-4.356 3.92-4.565a4.353 4.353 0 0 1 4.78 4.33v3.645c0 .324.137.633.376.85l1.624 1.477v2.373z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal is-inSiteNavBar js-userActions"  aria-haspopup="true" data-action="open-userActions"><div class="avatar"><img  src="https://cdn-images-1.medium.com/fit/c/32/32/0*WkUu0RbpRK_K9tGH" class="avatar-image avatar-image--icon" alt="N07061033楊翔斌"></div></button></div></div></div></div><div class="metabar-inner u-marginAuto u-maxWidth1032 js-metabarBottom"><nav role="navigation" class="metabar-block metabar-block--below u-overflowHidden u-height44 u-md-show"><div class="u-flex u-borderBottomLightest u-md-show u-xs-height39"><div class="u-flexCenter u-height50 u-xs-height39 u-marginLeft20"><a class="js-collectionLogoOrName u-uiTextBold u-fontSize18 u-lineHeightTightest u-xs-fontSize22" href="https://medium.com/pyladies-taiwan?source=logo-2b98f73f6736---295c96bf91e2"><img height="36" width="126" src="https://cdn-images-1.medium.com/letterbox/126/36/50/50/1*SHAeVn_iDg1aPkaEGhScJQ.jpeg?source=logoAvatar-2b98f73f6736---295c96bf91e2" alt="PyLadies Taiwan" /></a></div><div class="u-flexCenter u-height50 u-xs-height39 u-marginRight20 u-marginLeft20 u-flex1 u-textAlignRight"><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="toggle-follow-collection" data-action-source="----295c96bf91e2----------------------follow_header" data-collection-id="295c96bf91e2"><span class="button-label  js-buttonLabel">Follow</span></button></div></div></nav></div></div><div class="metabar metabar--spacer js-metabarSpacer  u-height65 u-md-height105 u-xs-height95"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full is-withAccentColors"  lang="zh-Hant"><div class="postArticle-content js-postField js-notesSource js-trackPostScrolls"  data-post-id="3538e74f57e3" data-source="post_page" data-collection-id="295c96bf91e2" data-tracking-context="postPage"><section name="bf65" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="ccdc" id="ccdc" class="graf graf--h3 graf--leading graf--title">Python 的 Import 陷阱</h1><div class="uiScale uiScale-ui--regular uiScale-caption--regular u-flexCenter u-marginVertical24 u-fontSize15 js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar"   href="https://medium.com/@pyliaorachel?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="ab3fd2961f80" data-action-type="hover" data-user-id="ab3fd2961f80" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/50/50/0*2j4P6rfISCrSIXDp." class="avatar-image u-size50x50" alt="Go to the profile of Rachel Liao"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-paddingBottom3"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker"   href="https://medium.com/@pyliaorachel" data-action="show-user-card" data-action-value="ab3fd2961f80" data-action-type="hover" data-user-id="ab3fd2961f80" dir="auto">Rachel Liao</a><span class="followState js-followState" data-user-id="ab3fd2961f80"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide"  data-action="toggle-block-user" data-action-value="ab3fd2961f80" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest button--dark u-noUserSelect button--withChrome u-accentColor--buttonDark button--follow js-followButton u-marginLeft10 u-xs-hide"  data-action="toggle-subscribe-user" data-action-value="ab3fd2961f80" data-action-source="post_header_lockup-ab3fd2961f80-------------------------follow_byline" data-subscribe-source="post_header_lockup" data-follow-context-entity-id="3538e74f57e3"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2017-10-30T02:13:14.977Z">Oct 30, 2017</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="16 min read"></span></div></div></div><p name="00e5" id="00e5" class="graf graf--p graf-after--h3">在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 <strong class="markup--strong markup--p-strong">module（模組）</strong>與 <strong class="markup--strong markup--p-strong">package（套件）</strong>是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或 class（類別）而必須互相 <strong class="markup--strong markup--p-strong">import（匯入）</strong>，使用上一個不注意就會掉入混亂的 import 陷阱。</p><p name="a526" id="a526" class="graf graf--p graf-after--p">此篇將會從基本 module 和 package 介紹起，提點基本 import 語法及 absolute import 和 relative import 的用法與差異，最後舉出幾個常見因為錯誤 import 觀念造成的錯誤。</p><blockquote name="27ad" id="27ad" class="graf graf--pullquote graf-after--p graf--trailing"><em class="markup--em markup--pullquote-em">請注意，以下只針對 Python3 進行講解與測試。</em></blockquote></div></div></section><section name="2fcc" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f05a" id="f05a" class="graf graf--h3 graf--leading">Module與Package</h3><p name="3165" id="3165" class="graf graf--p graf-after--h3">基本上一個檔案就是一個 module，裡頭可以定義 function，class，和 variable。 <br>把一個 module 想成一個檔案，那一個package就是一個目錄了。Package 可裝有 subpackage 和 module，讓你的專案更條理更組織化，最後一坨打包好還能分給別人使用。</p><p name="10ac" id="10ac" class="graf graf--p graf-after--p">先看看 module。假設有一個 module <code class="markup--code markup--p-code">sample_module.py</code> 裡頭定義了一個 function <code class="markup--code markup--p-code">sample_func</code>：</p><pre name="6e0f" id="6e0f" class="graf graf--pre graf-after--p">def sample_func():<br>    print(&#39;Hello!&#39;)</pre><p name="e5a0" id="e5a0" class="graf graf--p graf-after--pre">現在你在同一個目錄裡下有另一個 module <code class="markup--code markup--p-code">sample_module_import.py</code> 想要重複使用這個 function，這時可以直接從 <code class="markup--code markup--p-code">sample_module</code> import 拿取：</p><pre name="b3cc" id="b3cc" class="graf graf--pre graf-after--p">from sample_module import sample_func</pre><pre name="30bb" id="30bb" class="graf graf--pre graf-after--pre">if __name__ == &#39;__main__&#39;:<br>    sample_func()</pre><p name="f088" id="f088" class="graf graf--p graf-after--pre">跑 <code class="markup--code markup--p-code">python3 sample_module_import.py</code> 會得到：</p><pre name="8c24" id="8c24" class="graf graf--pre graf-after--p">Hello!</pre><p name="862a" id="862a" class="graf graf--p graf-after--pre">再來是 package。我們把上面兩個檔案包在一個新的目錄 <code class="markup--code markup--p-code">sample_package</code> 底下：</p><pre name="c061" id="c061" class="graf graf--pre graf-after--p">sample_package/<br>├── __init__.py<br>├── sample_module.py<br>└── sample_module_import.py</pre><p name="ab13" id="ab13" class="graf graf--p graf-after--pre">很重要的是新增那個 <code class="markup--code markup--p-code">__init__.py</code> 檔。它是空的沒關係，但一定要有，有點宣稱自己是一個 package 的味道。</p><p name="630b" id="630b" class="graf graf--p graf-after--p">這時候如果是進到 <code class="markup--code markup--p-code">sample_package</code> 裡面跑一樣的指令，那沒差。但既然都打包成 package 了，通常是在整個專案的其他地方需要用到的時候 import 它，這時候裡面的 import 就要稍微做因應。</p><p name="0702" id="0702" class="graf graf--p graf-after--p">讓我們修正一下 <code class="markup--code markup--p-code">sample_package/sample_module_import.py</code> 。假設這時我們在跟 <code class="markup--code markup--p-code">sample_package</code> 同一個 folder 底下執行下面兩種指令：</p><pre name="9a97" id="9a97" class="graf graf--pre graf-after--p">1. python3 sample_package/sample_module_import.py<br>2. python3 -m sample_package.sample_module_import</pre><p name="b3af" id="b3af" class="graf graf--p graf-after--pre">以下幾種不同的 import 寫法，會各有什麼效果呢？</p><pre name="3b4b" id="3b4b" class="graf graf--pre graf-after--p"># 不標準的 implicit relative import 寫法（Python 3 不支援）<br>from sample_module import sample_func<br>1. 成功印出 Hello!<br>2. ModuleNotFoundError。因為 Python 3 不支援 implicit relative import （前面不加點的寫法），故會將之當作 absolute import，但第三個例子才是正確寫法。</pre><pre name="ba9a" id="ba9a" class="graf graf--pre graf-after--pre"># 標準的 explicit relative import 寫法<br>from .sample_module import sample_func<br>1. 包含相對路徑的檔案不能直接執行，只能作為 module 被引用，所以失敗<br>2. 成功印出 Hello!</pre><pre name="196b" id="196b" class="graf graf--pre graf-after--pre"># 標準的 absolute import 寫法<br>from sample_package.sample_module import sample_func<br>1. 如果此層目錄位置不在 python path 中，就會失敗<br>2. 成功印出 Hello!</pre><p name="4c3b" id="4c3b" class="graf graf--p graf-after--pre">這邊 absolute import 和 relative import 的詳細說明請稍候。</p><p name="9cb1" id="9cb1" class="graf graf--p graf-after--p">執行指令中的 <code class="markup--code markup--p-code"><a href="https://docs.python.org/2/using/cmdline.html#cmdoption-m" data-href="https://docs.python.org/2/using/cmdline.html#cmdoption-m" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">-m</a></code>是為了讓 Python 預先 import 你要的 package 或 module 給你，然後再執行 script。所以這時 <code class="markup--code markup--p-code">sample_module_import</code> 在跑的時候，是以 <code class="markup--code markup--p-code">sample_package</code> 為環境的，這樣那些 import 才會合理。</p><p name="ba04" id="ba04" class="graf graf--p graf-after--p graf--trailing">另外，<a href="https://docs.python.org/3/library/sys.html#sys.path" data-href="https://docs.python.org/3/library/sys.html#sys.path" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">python path</strong></a> 是 Python 查找 module 時候使用的路徑，例如 standard module 所在的目錄位置。因此在第三種寫法中，Python 會因為在 python path 中找不到 <code class="markup--code markup--p-code">sample_package.sample_module</code>而噴 error。你可以選擇把當前目錄加到 <code class="markup--code markup--p-code">sys.path</code>，也就是 Python path（初始化自環境變數<code class="markup--code markup--p-code">PYTHONPATH</code>），來讓 Python 搜尋得到這個 module ，但這個方法很髒很難維護，最多用來debug，其他時候強烈不建議使用。</p></div></div></section><section name="34cc" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ce2b" id="ce2b" class="graf graf--h3 graf--leading">基本 import 語法</h3><p name="0cab" id="0cab" class="graf graf--p graf-after--h3">前面有看過了，這邊統整介紹一下。如果你想使用在其他 module 裡定義的 function、class、variable 等等，就需要在使用它們之前先進行 import。通常都會把需要 import 的 module 們列在整個檔案的最一開始，但不是必須。</p><p name="6ae1" id="6ae1" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">語法1：</strong><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">import [module]</strong></code></p><pre name="0c3d" id="0c3d" class="graf graf--pre graf-after--p"># Import 整個 `random` module<br>import random</pre><pre name="097e" id="097e" class="graf graf--pre graf-after--pre"># 使用 `random` module 底下的 `randint` function<br>print(random.randint(0, 5))</pre><p name="728c" id="728c" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">語法2：</strong><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">from [module] import [name1, name2, ...]</strong></code></p><pre name="396c" id="396c" class="graf graf--pre graf-after--p"># 從 `random` module 裡 import 其中一個 function `randint`<br>from random import randint</pre><pre name="f960" id="f960" class="graf graf--pre graf-after--pre"># 不一樣的是，使用 `randint` 的時候就不需要先寫 `random` 了<br>print(randint(0, 5))</pre><p name="05d9" id="05d9" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">語法3：</strong><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">import [module] as [new_name]</strong></code></p><pre name="7019" id="7019" class="graf graf--pre graf-after--p"># Import 整個 `random` module，<br># 但這個名字可能跟其他地方有衝突，因此改名成 `rd` <br>import random as rd</pre><pre name="9e3e" id="9e3e" class="graf graf--pre graf-after--pre"># 使用 `rd` 這個名稱取代原本的 `random`<br>print(rd.randint(0, 5))</pre><p name="bbbb" id="bbbb" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">語法4（不推薦）：</strong><code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">from [module] import *</strong></code></p><pre name="328c" id="328c" class="graf graf--pre graf-after--p"># Import 所有 `random` module 底下的東西<br>from random import *</pre><pre name="f76d" id="f76d" class="graf graf--pre graf-after--pre"># 使用 `randint` 的時候也不需要先寫 `random`<br>print(randint(0, 5))</pre><p name="f6c5" id="f6c5" class="graf graf--p graf-after--pre graf--trailing">語法4不推薦原因是容易造成名稱衝突，降低可讀性和可維護性。</p></div></div></section><section name="8363" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="29f8" id="29f8" class="graf graf--h3 graf--leading">Absolute Import v.s. Relative Import</h3><p name="1bd8" id="1bd8" class="graf graf--p graf-after--h3">Python 有兩種 import 方法，<strong class="markup--strong markup--p-strong">absolute import </strong>及 <strong class="markup--strong markup--p-strong">relative import</strong>。Absolute import 就是完整使用 module 路徑，relative import 則是使用以當前 package為參考的相對路徑。</p><p name="794d" id="794d" class="graf graf--p graf-after--p">Relative import 的需求在於，有時候在改變專案架構的時候，裡面的 package 和 module 會拉來拉去，這時候如果這些 package 裡面使用的是relative import 的話，他們的相對關係就不會改變，也就是不需要再一一進入 module 裡更改路徑。但因為 relative import 的路徑取決於當前 package，所以在哪裡執行就會造成不一樣的結果，一不小心又要噴一堆 error；這時absolute import 就會減少許多困擾。</p><p name="2f99" id="2f99" class="graf graf--p graf-after--p">這邊參考<a href="https://www.python.org/dev/peps/pep-0328/#guido-s-decision" data-href="https://www.python.org/dev/peps/pep-0328/#guido-s-decision" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">PEP328</a>提供的範例。Package 架構如下：</p><pre name="cb64" id="cb64" class="graf graf--pre graf-after--p">package<br>├── __init__.py<br>├── subpackage1<br>│   ├── __init__.py<br>│   ├── moduleX.py<br>│   └── moduleY.py<br>├── subpackage2<br>│   ├── __init__.py<br>│   └── moduleZ.py<br>└── moduleA.py</pre><p name="1f1d" id="1f1d" class="graf graf--p graf-after--pre">現在假設 <code class="markup--code markup--p-code">package/subpackage1/moduleX.py</code>想要從其他 module 裡 import 一些東西，則使用下列語法（<code class="markup--code markup--p-code">[A]</code>表 absolute import 範例；<code class="markup--code markup--p-code">[R]</code>表 relative import 範例）：</p><pre name="8b86" id="8b86" class="graf graf--pre graf-after--p"># Import 同一個 package 底下的 sibling module `moduleY`<br>[A] from package.subpackage1 import moduleY<br>[R] from . import moduleY<br>[Error] import .moduleY</pre><pre name="b24f" id="b24f" class="graf graf--pre graf-after--pre"># 從同一個 package 底下的 sibling module `moduleY` 中，<br># import `spam` 這個 function<br>[A] from package.subpackage1.moduleY import spam<br>[R] from .moduleY import spam</pre><pre name="b625" id="b625" class="graf graf--pre graf-after--pre"># 從隔壁 package 底下的 module `moduleZ` 中，<br># import `eggs` 這個 function<br>[A] from package.subpackage2.moduleZ import eggs<br>[R] from ..subpackage2.moduleZ import eggs</pre><pre name="2e24" id="2e24" class="graf graf--pre graf-after--pre"># Import parent package 底下的 module `moduleA`<br>[A] from package import moduleA<br>[R] from .. import moduleA 或 from ... package import moduleA</pre><p name="5323" id="5323" class="graf graf--p graf-after--pre">要點：</p><ol class="postList"><li name="6b1f" id="6b1f" class="graf graf--li graf-after--p">Relative import 裡，<code class="markup--code markup--li-code">..</code>代表上一層 ，多幾個<code class="markup--code markup--li-code">.</code>就代表多上幾層。</li><li name="a663" id="a663" class="graf graf--li graf-after--li graf--trailing">Relative import 一律採用 <code class="markup--code markup--li-code">from ... import ...</code>語法，即使是從 <code class="markup--code markup--li-code">.</code> import也要寫 <code class="markup--code markup--li-code">from . import some_module</code> 而非 <code class="markup--code markup--li-code">import .some_module</code>。原因是<code class="markup--code markup--li-code">.some_module</code>這個名稱在 expression 裡無法出現。Absolute import 則無限制。</li></ol></div></div></section><section name="8cb1" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e275" id="e275" class="graf graf--h3 graf--leading">常見 import 陷阱</h3><h4 name="fadc" id="fadc" class="graf graf--h4 graf-after--h3">Trap 1: Circular Import</h4><p name="0d03" id="0d03" class="graf graf--p graf-after--h4">想像一個 module <code class="markup--code markup--p-code">A</code>在一開始要 import 另一個 module <code class="markup--code markup--p-code">B</code> 裡的東西，但在匯入 module <code class="markup--code markup--p-code">B</code> 的途中也必須得執行它，而很不巧的 module <code class="markup--code markup--p-code">B</code>也需要從 module <code class="markup--code markup--p-code">A</code> import 一些東西。但 module <code class="markup--code markup--p-code">A</code>還正在執行途中，自己都還沒定義好自己的 function 啊！於是你不讓我我不讓你，這種類似 deadlock 的情形正是常見的 <strong class="markup--strong markup--p-strong">circular import（循環匯入）</strong>。</p><p name="2e4f" id="2e4f" class="graf graf--p graf-after--p">讓我們看看範例。現在在 <code class="markup--code markup--p-code">sample_package</code> 裡有 <code class="markup--code markup--p-code">A</code> 和 <code class="markup--code markup--p-code">B</code> 兩個 module 想互打招呼，程式碼如下：</p><p name="7516" id="7516" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">A.py</code></p><pre name="46b6" id="46b6" class="graf graf--pre graf-after--p">from .B import B_greet_back</pre><pre name="6c5c" id="6c5c" class="graf graf--pre graf-after--pre"><br>def A_say_hello():<br>    print(&#39;A says hello!&#39;)<br>    B_greet_back()</pre><pre name="ec6d" id="ec6d" class="graf graf--pre graf-after--pre">def A_greet_back():<br>    print(&#39;A says hello back!&#39;)</pre><pre name="739c" id="739c" class="graf graf--pre graf-after--pre"><br>if __name__ == &#39;__main__&#39;:<br>    A_say_hello()</pre><p name="9077" id="9077" class="graf graf--p graf-after--pre"><code class="markup--code markup--p-code">B.py</code></p><pre name="3646" id="3646" class="graf graf--pre graf-after--p">from .A import A_greet_back</pre><pre name="e6b2" id="e6b2" class="graf graf--pre graf-after--pre"><br>def B_say_hello():<br>    print(&#39;B says hello!&#39;)<br>    A_greet_back()</pre><pre name="68b8" id="68b8" class="graf graf--pre graf-after--pre">def B_greet_back():<br>    print(&#39;B says hello back!&#39;)</pre><pre name="7e55" id="7e55" class="graf graf--pre graf-after--pre"><br>if __name__ == &#39;__main__&#39;:<br>    B_say_hello()</pre><p name="c532" id="c532" class="graf graf--p graf-after--pre">內容都一樣，只是<code class="markup--code markup--p-code">A/B</code>互換。<code class="markup--code markup--p-code">B</code> 很有禮貌想先打招呼。在與 <code class="markup--code markup--p-code">sample_package</code> 同目錄底下執行：</p><pre name="5b56" id="5b56" class="graf graf--pre graf-after--p">$ python3 -m sample_package.B</pre><p name="8301" id="8301" class="graf graf--p graf-after--pre">會得到：</p><pre name="949c" id="949c" class="graf graf--pre graf-after--p">Traceback (most recent call last):<br>  File &quot;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py&quot;, line 193, in _run_module_as_main<br> &quot;__main__&quot;, mod_spec)<br> File &quot;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py&quot;, line 85, in _run_code<br> exec(code, run_globals)<br> File &quot;/path/to/sample_package/B.py&quot;, line 2, in &lt;module&gt;<br> from .A import A_greet_back<br> File &quot;/path/to/sample_package/A.py&quot;, line 1, in &lt;module&gt;<br> from .B import B_greet_back<br> File &quot;/path/to/sample_package/B.py&quot;, line 2, in &lt;module&gt;<br> from .A import A_greet_back<br>ImportError: cannot import name &#39;A_greet_back&#39;</pre><p name="b36d" id="b36d" class="graf graf--p graf-after--pre">觀察到了嗎？<code class="markup--code markup--p-code">B</code> 試圖 import <code class="markup--code markup--p-code">A_greet_back</code>，但途中先進到 <code class="markup--code markup--p-code">A</code> 執行，而因為 Python 是從頭開始一行一行執行下來的，於是在定義 <code class="markup--code markup--p-code">A_greet_back</code>之前會先碰到自己的 import statement，於是又進入 <code class="markup--code markup--p-code">B</code>，然後陷入死胡同。</p><p name="a897" id="a897" class="graf graf--p graf-after--p">常見解決這種circular import的方法如下：</p><ol class="postList"><li name="7e00" id="7e00" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Import 整個 module 而非單一 attribute</strong></li></ol><p name="fe30" id="fe30" class="graf graf--p graf-after--li">把 <code class="markup--code markup--p-code">B.py</code> 更改成如下：</p><pre name="ab92" id="ab92" class="graf graf--pre graf-after--p"># from .A import A_greet_back<br>from . import A</pre><pre name="356a" id="356a" class="graf graf--pre graf-after--pre"><br>def B_say_hello():<br>    print(&#39;B says hello!&#39;)<br>    # A_greet_back()<br>    A.A_greet_back()</pre><pre name="4e35" id="4e35" class="graf graf--pre graf-after--pre">...</pre><p name="70e2" id="70e2" class="graf graf--p graf-after--pre">就不會發生錯誤：</p><pre name="4c07" id="4c07" class="graf graf--pre graf-after--p">B says hello!<br>A says hello back!</pre><p name="c384" id="c384" class="graf graf--p graf-after--pre">理由是，原本執行 <code class="markup--code markup--p-code">from .A import A_greet_back</code> 時被迫要從 load 進來的 <code class="markup--code markup--p-code">A</code>module object 中找出 <code class="markup--code markup--p-code">A_greet_back</code> 的定義，但此時這個 module object 還是空的；而更新後的 <code class="markup--code markup--p-code">from . import A</code> 就只會檢查 <code class="markup--code markup--p-code">A</code> module object 存不存在，至於 <code class="markup--code markup--p-code">A_greet_back</code> 存不存在等到需要執行的時候再去找就行了。</p><p name="5814" id="5814" class="graf graf--p graf-after--p">2. <strong class="markup--strong markup--p-strong">延遲 import</strong></p><p name="43e4" id="43e4" class="graf graf--p graf-after--p">把 <code class="markup--code markup--p-code">B.py</code> 更改成如下：</p><pre name="3260" id="3260" class="graf graf--pre graf-after--p"># 前面全刪</pre><pre name="db0a" id="db0a" class="graf graf--pre graf-after--pre">def B_say_hello():<br>    from .A import A_greet_back</pre><pre name="d74f" id="d74f" class="graf graf--pre graf-after--pre">    print(&#39;B says hello!&#39;)<br>    A_greet_back()<br>...</pre><p name="66aa" id="66aa" class="graf graf--p graf-after--pre">也會成功跑出結果。跟前面類似，Python 在跑到這行時才會 import <code class="markup--code markup--p-code">A</code> module，這時因為 <code class="markup--code markup--p-code">B</code> module 都已經 load 完了，所以不會有 circular import 的問題。但這個方法比較 hacky 一點，大概只能在 hackathon 中使用，否則正式專案裡看到這種難維護的 code 可能會有生命危險。 <br> <br>另一方面，把所有 import statement 擺到整個 module 最後面也是類似效果，但也會被打。</p><p name="6207" id="6207" class="graf graf--p graf-after--p">3. <strong class="markup--strong markup--p-strong">好好釐清架構，避免circular import</strong></p><p name="bb49" id="bb49" class="graf graf--p graf-after--p">是的，治本方法還是好好思考自己寫的 code 為什麼會陷入這種危機，然後重新 refactor 吧。</p><h4 name="09e8" id="09e8" class="graf graf--h4 graf-after--p">Trap 2: Relative Import above Top-level Package</h4><p name="1eab" id="1eab" class="graf graf--p graf-after--h4">還不熟悉 relative import 的人常常會見到這個 error：</p><pre name="4593" id="4593" class="graf graf--pre graf-after--p">ValueError: attempted relative import beyond top-level package</pre><p name="26bf" id="26bf" class="graf graf--p graf-after--pre">讓我們重現一下這個 error。把 <code class="markup--code markup--p-code">B.py</code> 前頭更改成如下：</p><pre name="22a6" id="22a6" class="graf graf--pre graf-after--p"># from . import A<br>from ..sample_package import A</pre><pre name="68ea" id="68ea" class="graf graf--pre graf-after--pre"><br>...</pre><p name="9bc4" id="9bc4" class="graf graf--p graf-after--pre">現在我們的路徑位置在與 <code class="markup--code markup--p-code">sample_package</code> 同目錄底下。跑：</p><pre name="3703" id="3703" class="graf graf--pre graf-after--p">$ python3 -m sample_package.B</pre><p name="48c3" id="48c3" class="graf graf--p graf-after--pre">會得到：</p><pre name="1bb2" id="1bb2" class="graf graf--pre graf-after--p">Traceback (most recent call last):<br>  File &quot;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py&quot;, line 193, in _run_module_as_main<br> &quot;__main__&quot;, mod_spec)<br> File &quot;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py&quot;, line 85, in _run_code<br> exec(code, run_globals)<br> File &quot;/path/to/sample_package/B.py&quot;, line 5, in &lt;module&gt;<br> from ..sample_package import A<br>ValueError: attempted relative import beyond top-level package</pre><p name="a200" id="a200" class="graf graf--p graf-after--pre">所謂的 <code class="markup--code markup--p-code">top-level package</code> 就是你所執行的 package 中最高的那一層，也就是 <code class="markup--code markup--p-code">sample_package</code>。超過這一層的 relative import 是不被允許的，指的就是<code class="markup--code markup--p-code">..sample_package</code> 這行嘗試跳一層上去而超過 <code class="markup--code markup--p-code">sample_package</code>了。</p><p name="e276" id="e276" class="graf graf--p graf-after--p graf--trailing">可以試試更改當前目錄到上一層（<code class="markup--code markup--p-code">cd ..</code>），假設叫 <code class="markup--code markup--p-code">parent_folder</code> ，然後執行 <code class="markup--code markup--p-code">python3 -m parent_folder.sample_package.B</code>，就會發現 error 消失了，因為現在的 <code class="markup--code markup--p-code">top-level package</code> 已經變成 <code class="markup--code markup--p-code">parent_folder</code>了。</p></div></div></section><section name="4f07" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="a75e" id="a75e" class="graf graf--h3 graf--leading">結語</h3><p name="f87b" id="f87b" class="graf graf--p graf-after--h3">Import 是各大語言必備功能，看似簡單，使用上來說陷阱卻頗多。如果搞不清楚 Python 中的 import 是怎麼運作的，除了在整體專案架構上難以靈活設計，更可能要陷入可怕的 error 海了。</p><p name="b103" id="b103" class="graf graf--p graf-after--p graf--trailing">我寫了一些額外的 sample code 放上 <a href="https://github.com/pyliaorachel/python-import-traps" data-href="https://github.com/pyliaorachel/python-import-traps" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">github</a> 了，有不清楚的地方可以直接參考。</p></div></div></section><section name="a046" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="adaf" id="adaf" class="graf graf--h3 graf--leading">參考資料</h3><ul class="postList"><li name="dc3a" id="dc3a" class="graf graf--li graf-after--h3"><a href="https://docs.python.org/2/tutorial/modules.html" data-href="https://docs.python.org/2/tutorial/modules.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Python Documentation — Modules</a></li><li name="a233" id="a233" class="graf graf--li graf-after--li"><a href="https://docs.python.org/3/reference/import.html" data-href="https://docs.python.org/3/reference/import.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Python Documnetation — the Import System</a></li><li name="1656" id="1656" class="graf graf--li graf-after--li"><a href="https://www.tutorialspoint.com/python/python_modules.htm" data-href="https://www.tutorialspoint.com/python/python_modules.htm" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">tutorialspoint — Python Modules</a></li><li name="316c" id="316c" class="graf graf--li graf-after--li"><a href="https://www.python.org/dev/peps/pep-0328/#guido-s-decision" data-href="https://www.python.org/dev/peps/pep-0328/#guido-s-decision" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">PEP328 — Imports: Multi-Line and Absolute/Relative</a></li><li name="ee8d" id="ee8d" class="graf graf--li graf-after--li"><a href="http://effbot.org/zone/import-confusion.htm" data-href="http://effbot.org/zone/import-confusion.htm" class="markup--anchor markup--li-anchor" rel="noopener nofollow" target="_blank">Importing Python Modules</a></li><li name="9198" id="9198" class="graf graf--li graf-after--li graf--trailing"><a href="https://www.blog.pythonlibrary.org/2016/03/01/python-101-all-about-imports/" data-href="https://www.blog.pythonlibrary.org/2016/03/01/python-101-all-about-imports/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Python 101: All about imports</a></li></ul></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"   href="https://medium.com/tag/python?source=post" data-action-source="post">Python</a></li></ul></div></div></div><div class="postActions js-postActionsFooter "><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="3538e74f57e3" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----3538e74f57e3---------------------clap_footer" data-clap-string-singular="clap" data-clap-string-plural="claps"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--darker clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboardingcollection"  data-action="multivote" data-action-value="3538e74f57e3" data-action-type="long-press" data-action-source="post_actions_footer-----3538e74f57e3---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Springu-backgroundGrayLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="3538e74f57e3"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-relative u-background js-actionMultirecommendCount u-marginLeft16"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-textColorDarker"  data-action="show-recommends" data-action-value="3538e74f57e3">882 claps</button><span class="u-xs-hide"></span></span></div></div><div class="buttonSet u-flex0"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless u-xs-hide u-marginRight12"   href="https://medium.com/p/3538e74f57e3/share/twitter" title="Share on Twitter" aria-label="Share on Twitter" target="_blank" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M22.053 7.54a4.474 4.474 0 0 0-3.31-1.455 4.526 4.526 0 0 0-4.526 4.524c0 .35.04.7.082 1.05a12.9 12.9 0 0 1-9.3-4.77c-.39.69-.61 1.46-.65 2.26.03 1.6.83 2.99 2.02 3.79-.72-.02-1.41-.22-2.02-.57-.01.02-.01.04 0 .08-.01 2.17 1.55 4 3.63 4.44-.39.08-.79.13-1.21.16-.28-.03-.57-.05-.81-.08.54 1.77 2.21 3.08 4.2 3.15a9.564 9.564 0 0 1-5.66 1.94c-.34-.03-.7-.06-1.05-.08 2 1.27 4.38 2.02 6.94 2.02 8.31 0 12.86-6.9 12.84-12.85.02-.24.01-.43 0-.65.89-.62 1.65-1.42 2.26-2.34-.82.38-1.69.62-2.59.72a4.37 4.37 0 0 0 1.94-2.51c-.84.53-1.81.9-2.83 1.13z"/></svg></span></span></a><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless u-xs-hide u-marginRight12"   href="https://medium.com/p/3538e74f57e3/share/facebook" title="Share on Facebook" aria-label="Share on Facebook" target="_blank" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookSquare svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79"/></svg></span></span></a><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show u-marginRight10"  title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="respond" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal u-marginRight12"  data-action="scroll-to-responses">3</button><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="3538e74f57e3" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px u-marginRight4"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px u-marginRight4"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon js-moreActionsButton"  title="More actions" aria-label="More actions" data-action="more-actions"><span class="svgIcon svgIcon--more svgIcon--25px"><svg class="svgIcon-use" width="25" height="25"  viewBox="-480.5 272.5 21 21"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"/></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="ab3fd2961f80"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="toggle-block-user" data-action-value="ab3fd2961f80" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="toggle-subscribe-user" data-action-value="ab3fd2961f80" data-action-source="footer_card-ab3fd2961f80-------------------------follow_footer" data-subscribe-source="footer_card" data-follow-context-entity-id="3538e74f57e3"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar"   href="https://medium.com/@pyliaorachel?source=footer_card" title="Go to the profile of Rachel Liao" aria-label="Go to the profile of Rachel Liao" data-action-source="footer_card" data-user-id="ab3fd2961f80" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/0*2j4P6rfISCrSIXDp." class="avatar-image avatar-image--small" alt="Go to the profile of Rachel Liao"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://medium.com/@pyliaorachel" property="cc:attributionName" title="Go to the profile of Rachel Liao" aria-label="Go to the profile of Rachel Liao" rel="author cc:attributionUrl" data-user-id="ab3fd2961f80" dir="auto">Rachel Liao</a></h3></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardCollection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton"  data-action="toggle-follow-collection" data-action-source="----295c96bf91e2----------------------follow_footer" data-collection-id="295c96bf91e2"><span class="button-label  js-buttonLabel">Follow</span></button></div><div class="u-tableCell "><a class="link u-baseColor--link avatar avatar--roundedRectangle"   href="https://medium.com/pyladies-taiwan?source=footer_card" title="Go to PyLadies Taiwan" aria-label="Go to PyLadies Taiwan" data-action-source="footer_card"><img src="https://cdn-images-1.medium.com/fit/c/60/60/1*E9W29PkuWKmuEpYG9xVoCg.jpeg" class="avatar-image u-size60x60" alt="PyLadies Taiwan"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://medium.com/pyladies-taiwan?source=footer_card" rel="collection" data-action-source="footer_card">PyLadies Taiwan</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Pyladies is an international mentorship group for women who love the Python programming language. <a rel="nofollow" href="https://tw.pyladies.com">https://tw.pyladies.com</a></p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><aside class="u-marginAuto u-maxWidth1000 js-postLeftSidebar"><div class="u-foreground u-top0 u-transition--fadeOut300 u-fixed u-sm-hide js-postShareWidget"><ul><li class="u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="3538e74f57e3" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_share_widget-----3538e74f57e3---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--primary button--large button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--darker"  data-action="multivote" data-action-value="3538e74f57e3" data-action-type="long-press" data-action-source="post_share_widget-----3538e74f57e3---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><g fill-rule="evenodd"><path d="M13.739 1l.761 2.966L15.261 1z"/><path d="M16.815 4.776l1.84-2.551-1.43-.471z"/><path d="M10.378 2.224l1.84 2.551-.408-3.022z"/><path d="M22.382 22.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L6.11 15.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L8.43 9.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L20.628 15c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM12.99 6.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"/></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><g fill-rule="evenodd"><path d="M13.738 1l.762 2.966L15.262 1z"/><path d="M18.634 2.224l-1.432-.47-.408 3.022z"/><path d="M11.79 1.754l-1.431.47 1.84 2.552z"/><path d="M24.472 14.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"/><path d="M14.58 10.887c-.156-.83.096-1.569.692-2.142L12.78 6.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"/><path d="M17.812 10.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L9.2 7.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L7.046 9.54 5.802 8.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394l1.241 1.241 4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L4.89 11.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C21.74 20.8 22.271 18 20.62 14.982l-2.809-4.942z"/></g></svg></span></span></button></div><span class="u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton"  data-action="show-recommends" data-action-value="3538e74f57e3">882</button></span></div></li><li class="u-marginVertical10 u-marginLeft3"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="add-to-bookmarks" data-action-value="3538e74f57e3" data-action-source="post_share_widget-----3538e74f57e3---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li><li class="u-marginVertical10 u-marginLeft3"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless"   href="https://medium.com/p/3538e74f57e3/share/twitter" title="Share on Twitter" aria-label="Share on Twitter" target="_blank" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M22.053 7.54a4.474 4.474 0 0 0-3.31-1.455 4.526 4.526 0 0 0-4.526 4.524c0 .35.04.7.082 1.05a12.9 12.9 0 0 1-9.3-4.77c-.39.69-.61 1.46-.65 2.26.03 1.6.83 2.99 2.02 3.79-.72-.02-1.41-.22-2.02-.57-.01.02-.01.04 0 .08-.01 2.17 1.55 4 3.63 4.44-.39.08-.79.13-1.21.16-.28-.03-.57-.05-.81-.08.54 1.77 2.21 3.08 4.2 3.15a9.564 9.564 0 0 1-5.66 1.94c-.34-.03-.7-.06-1.05-.08 2 1.27 4.38 2.02 6.94 2.02 8.31 0 12.86-6.9 12.84-12.85.02-.24.01-.43 0-.65.89-.62 1.65-1.42 2.26-2.34-.82.38-1.69.62-2.59.72a4.37 4.37 0 0 0 1.94-2.51c-.84.53-1.81.9-2.83 1.13z"/></svg></span></span></a></li><li class="u-marginVertical10 u-marginLeft3"><a class="button button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon button--dark button--chromeless"   href="https://medium.com/p/3538e74f57e3/share/facebook" title="Share on Facebook" aria-label="Share on Facebook" target="_blank" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookSquare svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" ><path d="M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79"/></svg></span></span></a></li></ul></div></aside><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #02B875 !important;}
.u-accentColor--borderNormal {border-color: #02B875 !important;}
.u-accentColor--borderDark {border-color: #1C9963 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #1C9963 !important;}
.u-accentColor--textNormal {color: #1C9963 !important;}
.u-accentColor--hoverTextNormal:hover {color: #1C9963 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #1C9963 !important;}
.u-accentColor--textDark {color: #1C9963 !important;}
.u-accentColor--backgroundLight {background-color: #02B875 !important;}
.u-accentColor--backgroundNormal {background-color: #02B875 !important;}
.u-accentColor--backgroundDark {background-color: #1C9963 !important;}
.u-accentColor--buttonDark {border-color: #1C9963 !important; color: #1C9963 !important;}
.u-accentColor--buttonDark:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #1C9963 !important; fill: #1C9963 !important;}
.u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: #02B875 !important; color: #1C9963 !important;}
.u-accentColor--buttonNormal:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #02B875 !important; fill: #02B875 !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #1C9963 !important; border-color: #1C9963 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: #02B875 !important; border-color: #02B875 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #1C9963 !important;}
.u-accentColor--highlightFaint {background-color: rgba(233, 253, 240, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(125, 255, 179, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(233, 253, 240, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(233, 253, 240, 1), rgba(233, 253, 240, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(173, 255, 207, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(173, 255, 207, 1), rgba(173, 255, 207, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}.u-baseColor--iconNormal.avatar-halo {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDarker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-h1,.u-imageSpectrum  .ui-h2,.u-imageSpectrum  .ui-h3,.u-imageSpectrum  .ui-h4,.u-imageSpectrum  .ui-brand1,.u-imageSpectrum  .ui-brand2,.u-imageSpectrum  .ui-captionStrong {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-body,.u-imageSpectrum  .ui-caps {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-summary,.u-imageSpectrum  .ui-caption {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDarker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-h1,.u-resetSpectrum  .ui-h2,.u-resetSpectrum  .ui-h3,.u-resetSpectrum  .ui-h4,.u-resetSpectrum  .ui-brand1,.u-resetSpectrum  .ui-brand2,.u-resetSpectrum  .ui-captionStrong {color: rgba(0, 0, 0, 0.8) !important; fill: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum  .ui-body,.u-resetSpectrum  .ui-caps {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-summary,.u-resetSpectrum  .ui-caption {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"36401-8a724cf","currentUser":{"userId":"2b98f73f6736","username":"n07061033","name":"N07061033楊翔斌","email":"n07061033@gs.ncku.edu.tw","imageId":"0*WkUu0RbpRK_K9tGH","createdAt":1539825088930,"lastPostCreatedAt":1548560709445,"isVerified":true,"subscriberEmail":"","onboardingStatus":3,"googleAccountId":"110055446881464648401","googleEmail":"n07061033@gs.ncku.edu.tw","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":true,"hightowerLastLockedAt":0,"isWriterProgramEnrolled":false,"isWriterProgramInvited":false,"isWriterProgramOptedOut":false,"writerProgramVersion":0,"writerProgramEnrolledAt":0,"friendLinkOnboarding":0,"hasAdditionalUnlocks":false,"hasApiAccess":false},"currentUserHasUnverifiedEmail":false,"isAuthenticated":true,"isCurrentUserVerified":true,"language":"en-us","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.gQM2eBVGF3PUOgy_8gKFNA.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.vilFUwAyvWqPe9u1yUeHZg.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.jpsmWstDzaUDN10oItx69g.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.q0Akkm9XyJ_3AYUWBjGdzQ.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.u9bLgbh338FSVeDucaFKPA.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.0-WSerEWP-J8R37EXk4Yvg.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.LXlZD47aZygjh-0AawIpiA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.WxxCl-hiqEeamNAFfREzgg.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.ZeNkzK4lolkCaNrTFPCD6g.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.hztmtOqWbt4uCgGTf0K9RA.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.WVSeXnxzN7TuYmcEBuOxHA.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1549202963348:6e93db2ed170","useragent":{"browser":"chrome","family":"chrome","os":"windows","version":71,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":true,"emojiSupportLevel":1,"isSearchBot":false,"isSyndicationBot":false,"isNativeAndroid":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv,google-one-tap","signup_services":"twitter,facebook,google,email,google-fastidv,google-one-tap","google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_dedicated_series_tab_api_ios":true,"enable_post_import":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","disable_ios_resume_reading_toast":true,"is_not_medium_subscriber":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_fastrak_rollout_new_users":true,"enable_fastrak_rollout_invited_users":true,"max_premium_content_per_user_under_metering":3,"enable_automated_mission_control_triggers":true,"enable_top_stories_for_you":true,"enable_lite_profile":true,"enable_topic_lifecycle_email":true,"enable_marketing_emails":true,"enable_truncated_rss_for_tags_and_topics":true,"enable_parsely":true,"enable_branch_io":true,"enable_synchronous_parsely":true,"enable_ios_post_stats":true,"enable_lite_topics":true,"enable_lite_stories":true,"redis_read_write_splitting":true,"enable_tipalti_onboarding":true,"enable_annual_renewal_reminder_email":true,"enable_janky_spam_rules":"users,posts","enable_new_collaborative_filtering_data":true,"android_rating_prompt_stories_read_threshold":2,"enable_gifting_flow":true,"reduce_incentive_to_one":true,"enable_smart_meter_without_incentive":true,"stripe_v3":true,"enable_google_one_tap":true,"enable_email_sign_in_captcha":true,"enable_social_shares_in_new_tab":true,"enable_primary_topic_for_mobile":true,"enable_prereg_post_post_recs":true,"store_moc_depth_in_session":true,"less_aggressive_smart_meter":true},"xsrfToken":"h2S57JSErg0c","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":11,"url":"https://glyph.medium.com/css/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"3d8d7d303ff2f927\",\"ot-tracer-traceid\":\"61026e8f17d7605d\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email"],"connect":["public_profile","email"],"login":["public_profile","email"],"share":["public_profile","email"]}},"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":5,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"li_post_page","type":0,"url":"www.calendly.com"},{"promptId":"li_home_page","type":1,"url":"mediumuserfeedback.typeform.com/to/GcFjEO"},{"promptId":"li_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","signinWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"countryCode":"TW","bypassMeter":false,"branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","paypal":{"clientMode":"production","oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com/redeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"}}}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.gQM2eBVGF3PUOgy_8gKFNA.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"3538e74f57e3","versionId":"90b2a1048337","creatorId":"ab3fd2961f80","creator":{"userId":"ab3fd2961f80","name":"Rachel Liao","username":"pyliaorachel","createdAt":1494351929880,"imageId":"0*2j4P6rfISCrSIXDp.","backgroundImageId":"","bio":"","twitterScreenName":"","socialStats":{"userId":"ab3fd2961f80","usersFollowedCount":50,"usersFollowedByCount":325,"type":"SocialStats"},"social":{"userId":"2b98f73f6736","targetUserId":"ab3fd2961f80","type":"Social"},"facebookAccountId":"1527116523999775","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"type":"User"},"homeCollection":{"id":"295c96bf91e2","name":"PyLadies Taiwan","slug":"pyladies-taiwan","tags":["PYTHON","PROGRAMMING","PYLADIES"],"creatorId":"cc7e29e402ba","description":"Pyladies is an international mentorship group for women who love the Python programming language. https://tw.pyladies.com","shortDescription":"Pyladies is an international mentorship group for women who…","image":{"imageId":"1*E9W29PkuWKmuEpYG9xVoCg.jpeg","filter":"","backgroundSize":"","originalWidth":600,"originalHeight":600,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":708,"activeAt":1539589218475},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*SHAeVn_iDg1aPkaEGhScJQ.jpeg","filter":"","backgroundSize":"","originalWidth":3831,"originalHeight":1094,"strategy":"resample","height":0,"width":0},"facebookPageName":"pyladies.tw","publicEmail":"pyladies.tw@gmail.com","collectionMastheadId":"f7b7c5cb14d7","sections":[{"type":2,"collectionHeaderMetadata":{"title":"PyLadies Taiwan","description":"Ladies who love Python in Taiwan","backgroundImage":{},"logoImage":{"id":"1*E9W29PkuWKmuEpYG9xVoCg@2x.jpeg","originalWidth":600,"originalHeight":600,"alt":"PyLadies Taiwan"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":25,"postIds":[]}},{"type":1,"postListMetadata":{"source":3,"layout":4,"number":3,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"PyLadies Taiwan","description":"Ladies who love Python in Taiwan","backgroundImage":{},"logoImage":{"id":"1*E9W29PkuWKmuEpYG9xVoCg@2x.jpeg","originalWidth":600,"originalHeight":600,"alt":"PyLadies Taiwan"},"alignment":2,"layout":5},"type":"Collection"},"homeCollectionId":"295c96bf91e2","title":"Python 的 Import 陷阱","detectedLanguage":"zh-Hant","latestVersion":"90b2a1048337","latestPublishedVersion":"90b2a1048337","hasUnpublishedEdits":false,"latestRev":1402,"createdAt":1505647217155,"updatedAt":1529139024461,"acceptedAt":0,"firstPublishedAt":1509329594977,"latestPublishedAt":1516673784701,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或…","bodyModel":{"paragraphs":[{"name":"ccdc","type":3,"text":"Python 的 Import 陷阱","markups":[]},{"name":"00e5","type":1,"text":"在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或 class（類別）而必須互相 import（匯入），使用上一個不注意就會掉入混亂的 import 陷阱。","markups":[{"type":1,"start":64,"end":74},{"type":1,"start":76,"end":87},{"type":1,"start":146,"end":156}]},{"name":"a526","type":1,"text":"此篇將會從基本 module 和 package 介紹起，提點基本 import 語法及 absolute import 和 relative import 的用法與差異，最後舉出幾個常見因為錯誤 import 觀念造成的錯誤。","markups":[]},{"name":"27ad","type":7,"text":"請注意，以下只針對 Python3 進行講解與測試。","markups":[{"type":2,"start":0,"end":26}]},{"name":"f05a","type":3,"text":"Module與Package","markups":[]},{"name":"3165","type":1,"text":"基本上一個檔案就是一個 module，裡頭可以定義 function，class，和 variable。 \n把一個 module 想成一個檔案，那一個package就是一個目錄了。Package 可裝有 subpackage 和 module，讓你的專案更條理更組織化，最後一坨打包好還能分給別人使用。","markups":[]},{"name":"10ac","type":1,"text":"先看看 module。假設有一個 module sample_module.py 裡頭定義了一個 function sample_func：","markups":[{"type":10,"start":24,"end":40},{"type":10,"start":58,"end":69}]},{"name":"6e0f","type":8,"text":"def sample_func():\n    print('Hello!')","markups":[]},{"name":"e5a0","type":1,"text":"現在你在同一個目錄裡下有另一個 module sample_module_import.py 想要重複使用這個 function，這時可以直接從 sample_module import 拿取：","markups":[{"type":10,"start":23,"end":46},{"type":10,"start":73,"end":86}]},{"name":"b3cc","type":8,"text":"from sample_module import sample_func","markups":[]},{"name":"30bb","type":8,"text":"if __name__ == '__main__':\n    sample_func()","markups":[]},{"name":"f088","type":1,"text":"跑 python3 sample_module_import.py 會得到：","markups":[{"type":10,"start":2,"end":33}]},{"name":"8c24","type":8,"text":"Hello!","markups":[]},{"name":"862a","type":1,"text":"再來是 package。我們把上面兩個檔案包在一個新的目錄 sample_package 底下：","markups":[{"type":10,"start":30,"end":44}]},{"name":"c061","type":8,"text":"sample_package/\n├── __init__.py\n├── sample_module.py\n└── sample_module_import.py","markups":[]},{"name":"ab13","type":1,"text":"很重要的是新增那個 __init__.py 檔。它是空的沒關係，但一定要有，有點宣稱自己是一個 package 的味道。","markups":[{"type":10,"start":10,"end":21}]},{"name":"630b","type":1,"text":"這時候如果是進到 sample_package 裡面跑一樣的指令，那沒差。但既然都打包成 package 了，通常是在整個專案的其他地方需要用到的時候 import 它，這時候裡面的 import 就要稍微做因應。","markups":[{"type":10,"start":9,"end":23}]},{"name":"0702","type":1,"text":"讓我們修正一下 sample_package/sample_module_import.py 。假設這時我們在跟 sample_package 同一個 folder 底下執行下面兩種指令：","markups":[{"type":10,"start":8,"end":46},{"type":10,"start":57,"end":71}]},{"name":"9a97","type":8,"text":"1. python3 sample_package/sample_module_import.py\n2. python3 -m sample_package.sample_module_import","markups":[]},{"name":"b3af","type":1,"text":"以下幾種不同的 import 寫法，會各有什麼效果呢？","markups":[]},{"name":"3b4b","type":8,"text":"# 不標準的 implicit relative import 寫法（Python 3 不支援）\nfrom sample_module import sample_func\n1. 成功印出 Hello!\n2. ModuleNotFoundError。因為 Python 3 不支援 implicit relative import （前面不加點的寫法），故會將之當作 absolute import，但第三個例子才是正確寫法。","markups":[]},{"name":"ba9a","type":8,"text":"# 標準的 explicit relative import 寫法\nfrom .sample_module import sample_func\n1. 包含相對路徑的檔案不能直接執行，只能作為 module 被引用，所以失敗\n2. 成功印出 Hello!","markups":[]},{"name":"196b","type":8,"text":"# 標準的 absolute import 寫法\nfrom sample_package.sample_module import sample_func\n1. 如果此層目錄位置不在 python path 中，就會失敗\n2. 成功印出 Hello!","markups":[]},{"name":"4c3b","type":1,"text":"這邊 absolute import 和 relative import 的詳細說明請稍候。","markups":[]},{"name":"9cb1","type":1,"text":"執行指令中的 -m是為了讓 Python 預先 import 你要的 package 或 module 給你，然後再執行 script。所以這時 sample_module_import 在跑的時候，是以 sample_package 為環境的，這樣那些 import 才會合理。","markups":[{"type":10,"start":7,"end":9},{"type":10,"start":73,"end":93},{"type":10,"start":103,"end":117},{"type":3,"start":7,"end":9,"href":"https://docs.python.org/2/using/cmdline.html#cmdoption-m","title":"","rel":"","anchorType":0}]},{"name":"ba04","type":1,"text":"另外，python path 是 Python 查找 module 時候使用的路徑，例如 standard module 所在的目錄位置。因此在第三種寫法中，Python 會因為在 python path 中找不到 sample_package.sample_module而噴 error。你可以選擇把當前目錄加到 sys.path，也就是 Python path（初始化自環境變數PYTHONPATH），來讓 Python 搜尋得到這個 module ，但這個方法很髒很難維護，最多用來debug，其他時候強烈不建議使用。","markups":[{"type":10,"start":108,"end":136},{"type":10,"start":158,"end":166},{"type":10,"start":191,"end":201},{"type":3,"start":3,"end":14,"href":"https://docs.python.org/3/library/sys.html#sys.path","title":"","rel":"","anchorType":0},{"type":1,"start":3,"end":14}]},{"name":"ce2b","type":3,"text":"基本 import 語法","markups":[]},{"name":"0cab","type":1,"text":"前面有看過了，這邊統整介紹一下。如果你想使用在其他 module 裡定義的 function、class、variable 等等，就需要在使用它們之前先進行 import。通常都會把需要 import 的 module 們列在整個檔案的最一開始，但不是必須。","markups":[]},{"name":"6ae1","type":1,"text":"語法1：import [module]","markups":[{"type":10,"start":4,"end":19},{"type":1,"start":0,"end":19}]},{"name":"0c3d","type":8,"text":"# Import 整個 `random` module\nimport random","markups":[]},{"name":"097e","type":8,"text":"# 使用 `random` module 底下的 `randint` function\nprint(random.randint(0, 5))","markups":[]},{"name":"728c","type":1,"text":"語法2：from [module] import [name1, name2, ...]","markups":[{"type":10,"start":4,"end":44},{"type":1,"start":0,"end":44}]},{"name":"396c","type":8,"text":"# 從 `random` module 裡 import 其中一個 function `randint`\nfrom random import randint","markups":[]},{"name":"f960","type":8,"text":"# 不一樣的是，使用 `randint` 的時候就不需要先寫 `random` 了\nprint(randint(0, 5))","markups":[]},{"name":"05d9","type":1,"text":"語法3：import [module] as [new_name]","markups":[{"type":10,"start":4,"end":33},{"type":1,"start":0,"end":33}]},{"name":"7019","type":8,"text":"# Import 整個 `random` module，\n# 但這個名字可能跟其他地方有衝突，因此改名成 `rd` \nimport random as rd","markups":[]},{"name":"9e3e","type":8,"text":"# 使用 `rd` 這個名稱取代原本的 `random`\nprint(rd.randint(0, 5))","markups":[]},{"name":"bbbb","type":1,"text":"語法4（不推薦）：from [module] import *","markups":[{"type":10,"start":9,"end":31},{"type":1,"start":0,"end":31}]},{"name":"328c","type":8,"text":"# Import 所有 `random` module 底下的東西\nfrom random import *","markups":[]},{"name":"f76d","type":8,"text":"# 使用 `randint` 的時候也不需要先寫 `random`\nprint(randint(0, 5))","markups":[]},{"name":"f6c5","type":1,"text":"語法4不推薦原因是容易造成名稱衝突，降低可讀性和可維護性。","markups":[]},{"name":"29f8","type":3,"text":"Absolute Import v.s. Relative Import","markups":[]},{"name":"1bd8","type":1,"text":"Python 有兩種 import 方法，absolute import 及 relative import。Absolute import 就是完整使用 module 路徑，relative import 則是使用以當前 package為參考的相對路徑。","markups":[{"type":1,"start":21,"end":37},{"type":1,"start":39,"end":54}]},{"name":"794d","type":1,"text":"Relative import 的需求在於，有時候在改變專案架構的時候，裡面的 package 和 module 會拉來拉去，這時候如果這些 package 裡面使用的是relative import 的話，他們的相對關係就不會改變，也就是不需要再一一進入 module 裡更改路徑。但因為 relative import 的路徑取決於當前 package，所以在哪裡執行就會造成不一樣的結果，一不小心又要噴一堆 error；這時absolute import 就會減少許多困擾。","markups":[]},{"name":"2f99","type":1,"text":"這邊參考PEP328提供的範例。Package 架構如下：","markups":[{"type":3,"start":4,"end":10,"href":"https://www.python.org/dev/peps/pep-0328/#guido-s-decision","title":"","rel":"","anchorType":0}]},{"name":"cb64","type":8,"text":"package\n├── __init__.py\n├── subpackage1\n│   ├── __init__.py\n│   ├── moduleX.py\n│   └── moduleY.py\n├── subpackage2\n│   ├── __init__.py\n│   └── moduleZ.py\n└── moduleA.py","markups":[]},{"name":"1f1d","type":1,"text":"現在假設 package/subpackage1/moduleX.py想要從其他 module 裡 import 一些東西，則使用下列語法（[A]表 absolute import 範例；[R]表 relative import 範例）：","markups":[{"type":10,"start":5,"end":35},{"type":10,"start":70,"end":73},{"type":10,"start":94,"end":97}]},{"name":"8b86","type":8,"text":"# Import 同一個 package 底下的 sibling module `moduleY`\n[A] from package.subpackage1 import moduleY\n[R] from . import moduleY\n[Error] import .moduleY","markups":[]},{"name":"b24f","type":8,"text":"# 從同一個 package 底下的 sibling module `moduleY` 中，\n# import `spam` 這個 function\n[A] from package.subpackage1.moduleY import spam\n[R] from .moduleY import spam","markups":[]},{"name":"b625","type":8,"text":"# 從隔壁 package 底下的 module `moduleZ` 中，\n# import `eggs` 這個 function\n[A] from package.subpackage2.moduleZ import eggs\n[R] from ..subpackage2.moduleZ import eggs","markups":[]},{"name":"2e24","type":8,"text":"# Import parent package 底下的 module `moduleA`\n[A] from package import moduleA\n[R] from .. import moduleA 或 from ... package import moduleA","markups":[]},{"name":"5323","type":1,"text":"要點：","markups":[]},{"name":"6b1f","type":10,"text":"Relative import 裡，..代表上一層 ，多幾個.就代表多上幾層。","markups":[{"type":10,"start":18,"end":20},{"type":10,"start":30,"end":31}]},{"name":"a663","type":10,"text":"Relative import 一律採用 from ... import ...語法，即使是從 . import也要寫 from . import some_module 而非 import .some_module。原因是.some_module這個名稱在 expression 裡無法出現。Absolute import 則無限制。","markups":[{"type":10,"start":21,"end":40},{"type":10,"start":48,"end":49},{"type":10,"start":60,"end":85},{"type":10,"start":89,"end":108},{"type":10,"start":112,"end":124}]},{"name":"e275","type":3,"text":"常見 import 陷阱","markups":[]},{"name":"fadc","type":13,"text":"Trap 1: Circular Import","markups":[]},{"name":"0d03","type":1,"text":"想像一個 module A在一開始要 import 另一個 module B 裡的東西，但在匯入 module B 的途中也必須得執行它，而很不巧的 module B也需要從 module A import 一些東西。但 module A還正在執行途中，自己都還沒定義好自己的 function 啊！於是你不讓我我不讓你，這種類似 deadlock 的情形正是常見的 circular import（循環匯入）。","markups":[{"type":10,"start":12,"end":13},{"type":10,"start":37,"end":38},{"type":10,"start":56,"end":57},{"type":10,"start":82,"end":83},{"type":10,"start":95,"end":96},{"type":10,"start":118,"end":119},{"type":1,"start":184,"end":205}]},{"name":"2e4f","type":1,"text":"讓我們看看範例。現在在 sample_package 裡有 A 和 B 兩個 module 想互打招呼，程式碼如下：","markups":[{"type":10,"start":12,"end":26},{"type":10,"start":30,"end":31},{"type":10,"start":34,"end":35}]},{"name":"7516","type":1,"text":"A.py","markups":[{"type":10,"start":0,"end":4}]},{"name":"46b6","type":8,"text":"from .B import B_greet_back","markups":[]},{"name":"6c5c","type":8,"text":"\ndef A_say_hello():\n    print('A says hello!')\n    B_greet_back()","markups":[]},{"name":"ec6d","type":8,"text":"def A_greet_back():\n    print('A says hello back!')","markups":[]},{"name":"739c","type":8,"text":"\nif __name__ == '__main__':\n    A_say_hello()","markups":[]},{"name":"9077","type":1,"text":"B.py","markups":[{"type":10,"start":0,"end":4}]},{"name":"3646","type":8,"text":"from .A import A_greet_back","markups":[]},{"name":"e6b2","type":8,"text":"\ndef B_say_hello():\n    print('B says hello!')\n    A_greet_back()","markups":[]},{"name":"68b8","type":8,"text":"def B_greet_back():\n    print('B says hello back!')","markups":[]},{"name":"7e55","type":8,"text":"\nif __name__ == '__main__':\n    B_say_hello()","markups":[]},{"name":"c532","type":1,"text":"內容都一樣，只是A/B互換。B 很有禮貌想先打招呼。在與 sample_package 同目錄底下執行：","markups":[{"type":10,"start":8,"end":11},{"type":10,"start":14,"end":15},{"type":10,"start":29,"end":43}]},{"name":"5b56","type":8,"text":"$ python3 -m sample_package.B","markups":[]},{"name":"8301","type":1,"text":"會得到：","markups":[]},{"name":"949c","type":8,"text":"Traceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n \"__main__\", mod_spec)\n File \"/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py\", line 85, in _run_code\n exec(code, run_globals)\n File \"/path/to/sample_package/B.py\", line 2, in \x3cmodule\x3e\n from .A import A_greet_back\n File \"/path/to/sample_package/A.py\", line 1, in \x3cmodule\x3e\n from .B import B_greet_back\n File \"/path/to/sample_package/B.py\", line 2, in \x3cmodule\x3e\n from .A import A_greet_back\nImportError: cannot import name 'A_greet_back'","markups":[]},{"name":"b36d","type":1,"text":"觀察到了嗎？B 試圖 import A_greet_back，但途中先進到 A 執行，而因為 Python 是從頭開始一行一行執行下來的，於是在定義 A_greet_back之前會先碰到自己的 import statement，於是又進入 B，然後陷入死胡同。","markups":[{"type":10,"start":6,"end":7},{"type":10,"start":18,"end":30},{"type":10,"start":38,"end":39},{"type":10,"start":75,"end":87},{"type":10,"start":120,"end":121}]},{"name":"a897","type":1,"text":"常見解決這種circular import的方法如下：","markups":[]},{"name":"7e00","type":10,"text":"Import 整個 module 而非單一 attribute","markups":[{"type":1,"start":0,"end":31}]},{"name":"fe30","type":1,"text":"把 B.py 更改成如下：","markups":[{"type":10,"start":2,"end":6}]},{"name":"ab92","type":8,"text":"# from .A import A_greet_back\nfrom . import A","markups":[]},{"name":"356a","type":8,"text":"\ndef B_say_hello():\n    print('B says hello!')\n    # A_greet_back()\n    A.A_greet_back()","markups":[]},{"name":"4e35","type":8,"text":"...","markups":[]},{"name":"70e2","type":1,"text":"就不會發生錯誤：","markups":[]},{"name":"4c07","type":8,"text":"B says hello!\nA says hello back!","markups":[]},{"name":"c384","type":1,"text":"理由是，原本執行 from .A import A_greet_back 時被迫要從 load 進來的 Amodule object 中找出 A_greet_back 的定義，但此時這個 module object 還是空的；而更新後的 from . import A 就只會檢查 A module object 存不存在，至於 A_greet_back 存不存在等到需要執行的時候再去找就行了。","markups":[{"type":10,"start":9,"end":36},{"type":10,"start":52,"end":53},{"type":10,"start":71,"end":83},{"type":10,"start":119,"end":134},{"type":10,"start":141,"end":142},{"type":10,"start":165,"end":177}]},{"name":"5814","type":1,"text":"2. 延遲 import","markups":[{"type":1,"start":3,"end":12}]},{"name":"43e4","type":1,"text":"把 B.py 更改成如下：","markups":[{"type":10,"start":2,"end":6}]},{"name":"3260","type":8,"text":"# 前面全刪","markups":[]},{"name":"db0a","type":8,"text":"def B_say_hello():\n    from .A import A_greet_back","markups":[]},{"name":"d74f","type":8,"text":"    print('B says hello!')\n    A_greet_back()\n...","markups":[]},{"name":"66aa","type":1,"text":"也會成功跑出結果。跟前面類似，Python 在跑到這行時才會 import A module，這時因為 B module 都已經 load 完了，所以不會有 circular import 的問題。但這個方法比較 hacky 一點，大概只能在 hackathon 中使用，否則正式專案裡看到這種難維護的 code 可能會有生命危險。 \n \n另一方面，把所有 import statement 擺到整個 module 最後面也是類似效果，但也會被打。","markups":[{"type":10,"start":38,"end":39},{"type":10,"start":52,"end":53}]},{"name":"6207","type":1,"text":"3. 好好釐清架構，避免circular import","markups":[{"type":1,"start":3,"end":27}]},{"name":"bb49","type":1,"text":"是的，治本方法還是好好思考自己寫的 code 為什麼會陷入這種危機，然後重新 refactor 吧。","markups":[]},{"name":"09e8","type":13,"text":"Trap 2: Relative Import above Top-level Package","markups":[]},{"name":"1eab","type":1,"text":"還不熟悉 relative import 的人常常會見到這個 error：","markups":[]},{"name":"4593","type":8,"text":"ValueError: attempted relative import beyond top-level package","markups":[]},{"name":"26bf","type":1,"text":"讓我們重現一下這個 error。把 B.py 前頭更改成如下：","markups":[{"type":10,"start":18,"end":22}]},{"name":"22a6","type":8,"text":"# from . import A\nfrom ..sample_package import A","markups":[]},{"name":"68ea","type":8,"text":"\n...","markups":[]},{"name":"9bc4","type":1,"text":"現在我們的路徑位置在與 sample_package 同目錄底下。跑：","markups":[{"type":10,"start":12,"end":26}]},{"name":"3703","type":8,"text":"$ python3 -m sample_package.B","markups":[]},{"name":"48c3","type":1,"text":"會得到：","markups":[]},{"name":"1bb2","type":8,"text":"Traceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n \"__main__\", mod_spec)\n File \"/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/runpy.py\", line 85, in _run_code\n exec(code, run_globals)\n File \"/path/to/sample_package/B.py\", line 5, in \x3cmodule\x3e\n from ..sample_package import A\nValueError: attempted relative import beyond top-level package","markups":[]},{"name":"a200","type":1,"text":"所謂的 top-level package 就是你所執行的 package 中最高的那一層，也就是 sample_package。超過這一層的 relative import 是不被允許的，指的就是..sample_package 這行嘗試跳一層上去而超過 sample_package了。","markups":[{"type":10,"start":4,"end":21},{"type":10,"start":50,"end":64},{"type":10,"start":99,"end":115},{"type":10,"start":129,"end":143}]},{"name":"e276","type":1,"text":"可以試試更改當前目錄到上一層（cd ..），假設叫 parent_folder ，然後執行 python3 -m parent_folder.sample_package.B，就會發現 error 消失了，因為現在的 top-level package 已經變成 parent_folder了。","markups":[{"type":10,"start":15,"end":20},{"type":10,"start":26,"end":39},{"type":10,"start":46,"end":87},{"type":10,"start":109,"end":126},{"type":10,"start":132,"end":145}]},{"name":"a75e","type":3,"text":"結語","markups":[]},{"name":"f87b","type":1,"text":"Import 是各大語言必備功能，看似簡單，使用上來說陷阱卻頗多。如果搞不清楚 Python 中的 import 是怎麼運作的，除了在整體專案架構上難以靈活設計，更可能要陷入可怕的 error 海了。","markups":[]},{"name":"b103","type":1,"text":"我寫了一些額外的 sample code 放上 github 了，有不清楚的地方可以直接參考。","markups":[{"type":3,"start":24,"end":30,"href":"https://github.com/pyliaorachel/python-import-traps","title":"","rel":"","anchorType":0}]},{"name":"adaf","type":3,"text":"參考資料","markups":[]},{"name":"dc3a","type":9,"text":"Python Documentation — Modules","markups":[{"type":3,"start":0,"end":30,"href":"https://docs.python.org/2/tutorial/modules.html","title":"","rel":"","anchorType":0}]},{"name":"a233","type":9,"text":"Python Documnetation — the Import System","markups":[{"type":3,"start":0,"end":40,"href":"https://docs.python.org/3/reference/import.html","title":"","rel":"","anchorType":0}]},{"name":"1656","type":9,"text":"tutorialspoint — Python Modules","markups":[{"type":3,"start":0,"end":31,"href":"https://www.tutorialspoint.com/python/python_modules.htm","title":"","rel":"","anchorType":0}]},{"name":"316c","type":9,"text":"PEP328 — Imports: Multi-Line and Absolute/Relative","markups":[{"type":3,"start":0,"end":50,"href":"https://www.python.org/dev/peps/pep-0328/#guido-s-decision","title":"","rel":"","anchorType":0}]},{"name":"ee8d","type":9,"text":"Importing Python Modules","markups":[{"type":3,"start":0,"end":24,"href":"http://effbot.org/zone/import-confusion.htm","title":"","rel":"noopener","anchorType":0}]},{"name":"9198","type":9,"text":"Python 101: All about imports","markups":[{"type":3,"start":0,"end":29,"href":"https://www.blog.pythonlibrary.org/2016/03/01/python-101-all-about-imports/","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"bf65","startIndex":0},{"name":"2fcc","startIndex":4},{"name":"34cc","startIndex":26},{"name":"8363","startIndex":41},{"name":"8cb1","startIndex":54},{"name":"4f07","startIndex":102},{"name":"a046","startIndex":105}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":954,"imageCount":0,"readingTime":15.194,"subtitle":"在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或…","userPostRelation":{"userId":"2b98f73f6736","postId":"3538e74f57e3","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"2fcc","lastReadVersionId":"90b2a1048337","lastReadAt":1549202114552,"lastReadParagraphName":"ba04","lastReadPercentage":0.27,"viewedAt":1549202080343,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":0,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":151,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"python","name":"Python","postCount":23206,"metadata":{"postCount":23206,"coverImage":{"id":"0*f-0YDR2PoEVgFboF","originalWidth":5472,"originalHeight":3648,"isFeatured":true,"unsplashPhotoId":"6EnTPvPPL6I"}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":3,"links":{"entries":[{"url":"https://docs.python.org/2/tutorial/modules.html","alts":[],"httpStatus":200},{"url":"https://docs.python.org/2/using/cmdline.html#cmdoption-m","alts":[],"httpStatus":200},{"url":"https://docs.python.org/3/library/sys.html#sys.path","alts":[],"httpStatus":200},{"url":"https://docs.python.org/3/reference/import.html","alts":[],"httpStatus":200},{"url":"https://www.tutorialspoint.com/python/python_modules.htm","alts":[],"httpStatus":200},{"url":"http://effbot.org/zone/import-confusion.htm","alts":[],"httpStatus":200},{"url":"https://www.python.org/dev/peps/pep-0328/#guido-s-decision","alts":[],"httpStatus":200},{"url":"https://github.com/pyliaorachel/python-import-traps","alts":[],"httpStatus":200},{"url":"https://www.blog.pythonlibrary.org/2016/03/01/python-101-all-about-imports/","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1516673785747},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":882,"sectionCount":7,"readingList":0,"topics":[]},"coverless":true,"slug":"python-的-import-陷阱","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"python-的-import-陷阱-3538e74f57e3","previewContent":{"bodyModel":{"paragraphs":[{"name":"ccdc","type":3,"text":"Python 的 Import 陷阱","markups":[],"alignment":1},{"name":"00e5","type":1,"text":"在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或 class（類別）而必須互相 import（匯入），使用上一個不注意就會掉入混亂的 import 陷阱。","markups":[{"type":1,"start":64,"end":74},{"type":1,"start":76,"end":87},{"type":1,"start":146,"end":156}],"alignment":1},{"name":"a526","type":1,"text":"此篇將會從基本 module 和 package 介紹起，提點基本 import 語法及 absolute import 和 relative import…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"在脫離 Python 幼幼班準備建立稍大型的專案的時候，學習如何組織化你的 Python 專案是一大要點。Python 提供的 module（模組）與 package（套件）是建立架構的基本元件，但在module之間為了重複使用一些 function（函數）或…"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3","approvedHomeCollectionId":"295c96bf91e2","approvedHomeCollection":{"id":"295c96bf91e2","name":"PyLadies Taiwan","slug":"pyladies-taiwan","tags":["PYTHON","PROGRAMMING","PYLADIES"],"creatorId":"cc7e29e402ba","description":"Pyladies is an international mentorship group for women who love the Python programming language. https://tw.pyladies.com","shortDescription":"Pyladies is an international mentorship group for women who…","image":{"imageId":"1*E9W29PkuWKmuEpYG9xVoCg.jpeg","filter":"","backgroundSize":"","originalWidth":600,"originalHeight":600,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":708,"activeAt":1539589218475},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*SHAeVn_iDg1aPkaEGhScJQ.jpeg","filter":"","backgroundSize":"","originalWidth":3831,"originalHeight":1094,"strategy":"resample","height":0,"width":0},"facebookPageName":"pyladies.tw","publicEmail":"pyladies.tw@gmail.com","collectionMastheadId":"f7b7c5cb14d7","sections":[{"type":2,"collectionHeaderMetadata":{"title":"PyLadies Taiwan","description":"Ladies who love Python in Taiwan","backgroundImage":{},"logoImage":{"id":"1*E9W29PkuWKmuEpYG9xVoCg@2x.jpeg","originalWidth":600,"originalHeight":600,"alt":"PyLadies Taiwan"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":25,"postIds":[]}},{"type":1,"postListMetadata":{"source":3,"layout":4,"number":3,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"PyLadies Taiwan","description":"Ladies who love Python in Taiwan","backgroundImage":{},"logoImage":{"id":"1*E9W29PkuWKmuEpYG9xVoCg@2x.jpeg","originalWidth":600,"originalHeight":600,"alt":"PyLadies Taiwan"},"alignment":2,"layout":5},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3","mediumUrl":"https://medium.com/pyladies-taiwan/python-%E7%9A%84-import-%E9%99%B7%E9%98%B1-3538e74f57e3","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"collectionUserRelations":[{"collectionId":"4241c660291f","userId":"2b98f73f6736","role":"ADMIN"}],"mode":null,"references":{"User":{"ab3fd2961f80":{"userId":"ab3fd2961f80","name":"Rachel Liao","username":"pyliaorachel","createdAt":1494351929880,"imageId":"0*2j4P6rfISCrSIXDp.","backgroundImageId":"","bio":"","twitterScreenName":"","socialStats":{"userId":"ab3fd2961f80","usersFollowedCount":50,"usersFollowedByCount":325,"type":"SocialStats"},"social":{"userId":"2b98f73f6736","targetUserId":"ab3fd2961f80","type":"Social"},"facebookAccountId":"1527116523999775","allowNotes":1,"mediumMemberAt":0,"isNsfw":false,"type":"User"}},"Collection":{"295c96bf91e2":{"id":"295c96bf91e2","name":"PyLadies Taiwan","slug":"pyladies-taiwan","tags":["PYTHON","PROGRAMMING","PYLADIES"],"creatorId":"cc7e29e402ba","description":"Pyladies is an international mentorship group for women who love the Python programming language. https://tw.pyladies.com","shortDescription":"Pyladies is an international mentorship group for women who…","image":{"imageId":"1*E9W29PkuWKmuEpYG9xVoCg.jpeg","filter":"","backgroundSize":"","originalWidth":600,"originalHeight":600,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":708,"activeAt":1539589218475},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*SHAeVn_iDg1aPkaEGhScJQ.jpeg","filter":"","backgroundSize":"","originalWidth":3831,"originalHeight":1094,"strategy":"resample","height":0,"width":0},"facebookPageName":"pyladies.tw","publicEmail":"pyladies.tw@gmail.com","collectionMastheadId":"f7b7c5cb14d7","sections":[{"type":2,"collectionHeaderMetadata":{"title":"PyLadies Taiwan","description":"Ladies who love Python in Taiwan","backgroundImage":{},"logoImage":{"id":"1*E9W29PkuWKmuEpYG9xVoCg@2x.jpeg","originalWidth":600,"originalHeight":600,"alt":"PyLadies Taiwan"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":25,"postIds":[]}},{"type":1,"postListMetadata":{"source":3,"layout":4,"number":3,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"PyLadies Taiwan","description":"Ladies who love Python in Taiwan","backgroundImage":{},"logoImage":{"id":"1*E9W29PkuWKmuEpYG9xVoCg@2x.jpeg","originalWidth":600,"originalHeight":600,"alt":"PyLadies Taiwan"},"alignment":2,"layout":5},"type":"Collection"}},"Social":{"ab3fd2961f80":{"userId":"2b98f73f6736","targetUserId":"ab3fd2961f80","type":"Social"}},"SocialStats":{"ab3fd2961f80":{"userId":"ab3fd2961f80","usersFollowedCount":50,"usersFollowedByCount":325,"type":"SocialStats"}}}})
// ]]></script><script id="parsely-cfg" src="//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js"></script><script type="text/javascript">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0); branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true}, function(err, data) {});</script></body></html>